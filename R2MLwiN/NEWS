Mon Jun 30 2014
1. Bug fixing
   * Return full covariance matrices in FP.cov and RP.cov

2. Changes
   * Enabled matching starting values on parameter names (allowing subsets of parameters to be specified)

Fri Jun 20 2014
1. Bug fixing
   * Added check that CAR is only requested at one level, unless CAR mean centring is turned on

2. Changes
   * Added option to turn on CAR mean centring

Mon Jun 9 2014
1. Changes
   * 1 can now be used in the model formula to specify an intercept term
   * If debugmode is turned on MLwiN will pause before and after fitting the model
   * Added extra estimation option to allow extra binomial/poisson/negative binomial/multinomial variables in (R)IGLS
   * Added reset estimation option to control negative variances in (R)IGLS models
   * Added constraints option for fixed and random part in (R)IGLS models
   * Allow more data variables by finding empty columns for output rather than hardcoding column numbers

Fri Jun 6 2014
1. Bug fixing
   * Don't bother running the model with (R)IGLS first if initial values have been specified by the user
   * Ensure that EstM is set to one when the BUGO option is specified in the demos
   * Allow initial values to be specified for (R)IGLS estimateion

2. Changes
   * Check EstM option is set to zero or one
   * Check response type and link functions are valid
   * Check that the selected residual options are valid for the current estimation method
   * Only allow weighting to be specified if the model is univariate and is esimated with (R)IGLS
   * Don't allow clre and smat options to be specified at the same time as they current clash
   * Only allow factor models to be specified if the model is multivariate and estimated with MCMC
   * Disallow cross-classification options if the model is estimated with (R)IGLS
   * Disallow measurement error options if the model is estimated with (R)IGLS
   * Disallow MCMC options and estimation settings if the model is estimated with (R)IGLS
   * Disallow setting BUGO options if the models is set to be estimated with (R)IGLS
   * Check that binomial response variables lie between zero and one inclusive
   * Check that Poisson response variables are positive integers
   * startval moved from MCMC to general options
   * Allow data keyword to be used as an alternative to indata
   * Untoggle no longer sometimes produces numeric column names

Tue Jun 3 2014
1. Bug fixing
   * Check the input data are sorted according to the model hierarchy and provide error if not
   * Only send the data used in the model to MLwiN
   * Interpret xclass by option names instead of positions
   * Updated demos to fix cases where that data is not sorted as expected

2. Changes
   * Add sort.force option to make R2MLwiN sort the data as expected
   * Add sort.ignore option to disable checking of sort order
   * Add drop.data option to send the whole data file to MLwiN

Mon May 12 2014
1. Bug fixing
   * Allow R formula object to be used when fitting factor models
   * Set default value for indata to NULL and give error message if it isn't specified
   * Call MLwiN via system2 instead of shell to improve cross-platform compatibility
   * Fixed error in caterpillarR
   * Use dev.new() instead of windows() function to allow graphs to be displayed on non-Windows systems
2. Changes
   * Set Y-axis for ACF/PACF graphs to range from zero to one
   * Use column name for parameter if it isn't manually specified in sixway
   * Allow full path to the MLwiN executable to be specified instead of just the root path
   * Allow redirection of output from MLwiN when it is called
   * Detect the version of MLwiN being used and block if it is too old
   * Allow package to be installed on non-Windows systems
   * Add MLwiN_path option to allow the location of MLwiN to be set once per session
   * Factor chains are now reshaped to one column per parameter when returned
   * Residual chains are now reshapred to one column per paramter when returned
   * Updated demonstration code to use formula objects instead of strings
   * Updated demonstration code to call OpenBUGS instead of WinBUGS to allow them to be run cross-platform
   * Removed respecification of default options in demonstration code to make it more readable
   * ECHO MLwiN output to the console while model fitting
   * Automatically select 32/64-bit version of MLwiN based on running version of R
   * Sample data used by the examples is now included within the package

Tue Apr 22 2014
1. Bug fixing
   * Missing values are erroneously marked as 'infinite' when re-fitting non-Normal models in debugmode, thus resulting in errors
   
Fri Mar 28 2014
1. Bug fixing
   * Fixed display when interaction terms involve
   * Fixed display when >1 non-Normal response
   * Correctly handle bcons parameters

Thu Mar 7 2014
1. Bug fixing
   * Fixed residuals for multivariate response models
   * Appropriate MCMC residuals now returned
   * Fixed bug: now allows for >2 responses in multivariate response model
   * Fixed CaterpillarR function
2. Changes
   * Removed option to specify resioptions = c("sampling") for MCMC estimation

Wed Feb 26 2014
1. Changes
   * Added 'optimat' option

Fri Jan 24 2014
1. Bug fixing
   * Fixed bug in Untoggle which was mis-assigning names to categories
2. Changes
   * Tested the package running on MLwiN v2.29; now changed default MLwiNPath

Thu Nov 21 2013
1. Bug fixing
   * sixway now allows user to specify some graphic parameters (see par()); This fixes errors, e.g., "figure margins too large".
   * Corrected error when workdir path contains spaces in ws2foreign.r.
   * fixed a bug in Formula.translate. The backward compatibility was not working; this has been removed since we support R 2.14.0 onwards.
   * Write.dta now saves as version=10 to circumvent problem of MLwiN mishandling missing values in .dta files saved under earlier versions of Stata. (Although this will be addressed in future release of MLwiN.)

2. Changes
   * Added an option to use R formula objects (i.e., without quotes around the character formula). NOTE that if an R formula is used, 0c, 0s,..., have to be changed to `0c`, `0s`,.... Any curly bracket, {}, has to be changed to a round bracket, ().
   * Added an update method for mlwinfitIGLS and mlwinfitMCMC class objects.
   * Added some example datasets and their related help files.
   * predLines(i.e., predLines1 & predLines2) and predCurves(i.e., predLines3) now depend on lattice package.

Fri Sep 06 2013
1. Bug fixing
   * When a model is run using MCMC, iterations (as set by the user in mcmcMeth) now refers to total chain run (post-burnin), rather than stored iterations only (relevant when thinning >1).
   * An MLwiN MCMC run no longer redundantly occurs when use BUGO with EstM=1 (e.g. when setting mcmcOptions).
   * Changed assignment of BUGO arguments from being solely determined by the order in which they're written, to instead determined by keywords.
   * MCSE algorithm now handles thinning appropriately.
   * sixway now handles thinning appropriately, and also swapped trace plot axis labels so that now correctly-labelled.
   * Corrected the summary and print functions to operate as expected.
   * Corrected error in number of observations returned in model summary: now corresponds to non-missing observations (with total in parentheses).
   * 'Conf' interval now referred to as 'Cred' interval in MLwiN MCMC output.
   * Corrected error when workdir path contains spaces.
   * Corrected generation of missing indicator in imputation data.

2. Changes
   * BUGO (used to call WinBUGS / OpenBUGS) now supports >1 chain.
   * Added debug and seed options to BUGO.
   * Removed redundant creation of combined BUGS files (bugofile; all BUGS files still returned separately).
   * Calling BUGS now returns summary of mcmc.list instead of MLwiN IGLS output (chains.bugs no longer returned).
   * All chains returned from an MCMC run in MLwiN are now mcmc objects.
   * Added option to display Bayesian one-sided p-value instead of z-ratio and its associated p-value in MCMC output from MLwiN (the default is z.ratio = T).
   * Global options 'digits' and 'show.signif.stars' now enabled, allowing users to specify the number of digits to display in the summary model output, as well as whether to display the stars which signify p-value thresholds, or not.
   * MCSE now handles mcmc objects, and handles thinning appropriately.
   * sixway now takes an mcmc object.
   * In sixway, Raftery-Lewis now returns error message when chain's too short for it to be calculated.
   * Changed default version MLwiN to 2.27.
   * Updated demos and help files.

Tue Feb 12 2013
1. Bugs fixing
   * For cross-classified models, only the residuals and their SE are returned from MCMC fitting.
2. Testing on MLwiN 2.27.

Mon Feb 04 2013
1. Bugs fixing
   * an issue on dropping a covariance from a model

Tue Jan 15 2013
1. Bugs fixing by Thomas Arkens
   * add multiple categorical variables in the fixed terms.
   * fix the reference categories (by changing to the level number of the factor object in R.)
2. Changes
   * in sixway(), replace getOption("device")() by windows(), so the package works in Rstudio.

Thu Nov 15 2012
1. New features
   * add various options for calculating residuals at all levels.

Thu Oct 18 2012
1. New features
   * add functionality to centre the explanatory variables.

Tue Oct 09 2012
1. Changes
   * the output of a fitted model is now a S4 class object consisting of print, "[", "[<-" and summary methods.
   * drop "$" to get an element of the output object.

2. New features
   * add macros to do weighting on all the levels when using IGLS.
